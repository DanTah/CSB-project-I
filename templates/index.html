{% extends "layout.html" %}

{% block title %}Recipe app{% endblock %}

{% block content %}
<h2> Recipes </h2>

<div class="recipe-list">
  {%for recipe in recipes%}
  <div class="recipe-card">
    <h3><a href = "/recipe/{{recipe.id}}">{{recipe.title | safe}}</a></h3>
    <p>
      <strong>Written by:</strong> <a href = "user/{{recipe.user_id}}">{{recipe.username}}</a>
    </p>
    <p>
      <strong>Prep time:</strong> {{recipe.recipe_time}} minutes
    </p>
    {% if recipe.avg_rating %}
    <p>
      <strong>Average rating:</strong> {{recipe.avg_rating}}/5
    </p>
    {% endif %}
      {% for class, options in classes[recipe.id].items()%}
      {%for option in options%}
      <p class="classes" data-status="{{class}}">{{option}} </p>
      {%endfor%}
      {%endfor%}
  </div>
  {%endfor%}
</div>
{%if recipes%}
<p>
  <a href="/{{ page - 1 }}">&lt;&lt;</a>
  Page {{ page }}/{{ page_count }}
  <a href="/{{ page + 1 }}">&gt;&gt;</a>
</p>
<hr />
{%endif%}
{% endblock %}
